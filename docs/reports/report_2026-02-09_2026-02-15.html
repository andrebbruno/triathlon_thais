<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Relatório de Coaching</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600;700&family=Sora:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1022;
      --bg-2:#10172b;
      --card:#121a33;
      --card-2:#10172b;
      --card-soft:#0f1a2f;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#ff6f91;
      --accent-2:#4bb6c1;
      --accent-3:#f6c453;
      --accent-4:#a855f7;
      --accent-run:#22c55e;
      --accent-ride:#f6c453;
      --accent-swim:#4bb6c1;
      --accent-strength:#a855f7;
      --shadow:0 18px 40px rgba(8,15,30,0.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Sora",sans-serif;
      background:radial-gradient(circle at 15% 15%, rgba(255,111,145,0.25) 0%, #0b1022 50%, #090d1b 100%);
      color:var(--text)
    }
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background:
        radial-gradient(circle at 18% 18%, rgba(255,111,145,0.18), transparent 45%),
        radial-gradient(circle at 82% 20%, rgba(94,163,255,0.14), transparent 45%),
        radial-gradient(circle at 50% 82%, rgba(244,114,182,0.18), transparent 50%);
      pointer-events:none;
      z-index:-1;
    }
    .wrap{max-width:1200px;margin:24px auto;padding:0 20px}
    .hero{background:linear-gradient(135deg,#5f6ddf 0%,#8f6ccf 60%,#d17ca8 100%);padding:24px;border-radius:20px;display:flex;justify-content:space-between;align-items:center;box-shadow:var(--shadow);position:relative;overflow:hidden}
    .hero::after{content:"";position:absolute;right:-80px;top:-80px;width:220px;height:220px;background:rgba(255,255,255,0.12);border-radius:50%}
    .hero h1{margin:0;font-family:"Space Grotesk",sans-serif;font-size:24px}
    .hero p{margin:6px 0 0 0;color:#e2e8f0}
    .hero-pill{background:rgba(255,255,255,0.2);padding:8px 16px;border-radius:999px;font-weight:600}
    .hero-status{padding:10px 20px;border-radius:14px;font-weight:700}
    .status-hold{background:#f59e0b;color:#111827}
    .status-push{background:#22c55e;color:#052e16}
    .status-stepback{background:#ef4444;color:#fff}
    .section{margin-top:22px}
    .card{background:var(--card);padding:18px;border-radius:16px;box-shadow:var(--shadow);border:1px solid rgba(148,163,184,0.12)}
    .grid{display:grid;gap:16px}
    .grid-4{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
    .grid-2{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .metric{background:var(--card-soft);padding:14px;border-radius:12px;text-align:center}
    .metric .value{font-size:20px;font-weight:700}
    .metric .label{font-size:11px;color:var(--muted)}
    .performance-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
    .stat-card{background:var(--card-soft);border-radius:14px;padding:16px;min-height:140px;display:flex;flex-direction:column;justify-content:space-between}
    .stat-value{font-size:28px;font-weight:700;color:var(--accent)}
    .stat-label{font-size:12px;color:var(--muted);margin-top:6px}
    .stat-pill{margin-top:10px;display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(15,23,42,0.45);font-size:11px;width:max-content}
    .stat-note{font-size:11px;color:var(--muted);margin-top:10px;line-height:1.3}
    .tsb-high{background:rgba(239,68,68,0.2);color:#ef4444}
    .tsb-med{background:rgba(245,158,11,0.2);color:#f59e0b}
    .tsb-low{background:rgba(148,163,184,0.2);color:#cbd5f5}
    .tsb-good{background:rgba(34,197,94,0.2);color:#22c55e}
    .comp-good{background:rgba(34,197,94,0.2);color:#22c55e}
    .comp-mid{background:rgba(245,158,11,0.2);color:#f59e0b}
    .comp-low{background:rgba(239,68,68,0.2);color:#ef4444}
    .comp-neutral{background:rgba(148,163,184,0.2);color:#cbd5f5}
    .race-card{display:flex;align-items:center;gap:18px;background:var(--card-soft);border-radius:14px;padding:16px;margin-bottom:12px;border-left:4px solid transparent}
    .race-card.priority-A{border-left-color:var(--accent-3)}
    .race-card.priority-B{border-left-color:var(--accent)}
    .race-card.priority-C{border-left-color:var(--accent-2)}
    .race-days{width:70px;text-align:center}
    .race-days .days{font-size:26px;font-weight:700;color:#7dd3fc}
    .race-days .label{font-size:10px;color:var(--muted)}
    .race-days .sub{font-size:10px;color:var(--muted)}
    .race-name{font-weight:600}
    .race-meta{color:var(--muted);font-size:12px}
    .race-estimate{color:#34d399;font-size:12px;margin-top:4px}
    .race-status{margin-top:6px;font-size:11px;color:#facc15}
    .race-badge{margin-left:auto;background:rgba(15,23,42,0.45);padding:6px 12px;border-radius:999px;font-size:11px}
    .wellness-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}
    .wellness-card{background:var(--card-soft);border-radius:12px;padding:14px;text-align:center}
    .wellness-card .value{font-size:22px;font-weight:700}
    .wellness-card .label{font-size:11px;color:var(--muted)}
    .delta{margin-top:6px;font-size:10px}
    .delta.pos{color:#22c55e}
    .delta.neg{color:#ef4444}
    .delta.neu{color:var(--muted)}
    .well-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;margin-right:6px}
    .well-icon svg{width:14px;height:14px}
    .info-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;background:rgba(15,23,42,0.45);color:#cbd5f5;text-decoration:none;margin-left:6px}
    .info-icon svg{width:10px;height:10px}
    .phase-grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .phase-grid ul{margin:10px 0 0 18px;color:var(--muted)}
    .timeline{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-top:12px}
    .timeline .step{background:var(--card-soft);padding:14px;border-radius:12px;text-align:center}
    .activity-card{background:var(--card);border-radius:16px;padding:18px;margin-top:16px;border:1px solid rgba(148,163,184,0.12)}
    .activity-card.activity-run{border-left:4px solid var(--accent-run)}
    .activity-card.activity-ride{border-left:4px solid var(--accent-ride)}
    .activity-card.activity-swim{border-left:4px solid var(--accent-swim)}
    .activity-card.activity-strength{border-left:4px solid var(--accent-strength)}
    .activity-title{display:flex;gap:12px;align-items:center;margin-bottom:12px}
    .activity-icon{width:42px;height:42px;border-radius:12px;background:rgba(15,23,42,0.45);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:11px;letter-spacing:.6px}
    .activity-icon svg,.rec-icon svg{width:20px;height:20px}
    .activity-icon.run{background:rgba(34,197,94,0.2);color:#22c55e}
    .activity-icon.ride{background:rgba(245,158,11,0.2);color:#f59e0b}
    .activity-icon.swim{background:rgba(56,189,248,0.2);color:#38bdf8}
    .activity-icon.strength{background:rgba(168,85,247,0.2);color:#a855f7}
    .activity-badge{margin-left:auto;padding:6px 12px;border-radius:999px;font-size:11px;font-weight:600}
    .quality-ok{background:rgba(34,197,94,0.2);color:#22c55e}
    .quality-low{background:rgba(148,163,184,0.2);color:#cbd5f5}
    .quality-high{background:rgba(245,158,11,0.2);color:#f59e0b}
    .quality-risk{background:rgba(239,68,68,0.2);color:#ef4444}
    .activity-name{font-weight:600}
    .activity-date{font-size:12px;color:var(--muted)}
    .activity-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-bottom:12px}
    .analysis-block{background:var(--card-soft);border-left:4px solid var(--accent-3);padding:12px;border-radius:12px}
    .analysis-title{font-weight:600;margin-bottom:6px}
    .analysis-summary{margin:0 0 10px 0;color:#e2e8f0;font-size:13px}
    .analysis-block ul{margin:0 0 0 18px;color:var(--muted)}
    .analysis-block li{margin-bottom:8px}
    .coach-card{background:linear-gradient(180deg,#0f274a 0%, #0f1f39 100%);border:1px solid rgba(94,163,255,0.25)}
    .coach-header{display:flex;align-items:center;gap:14px;margin-bottom:14px}
    .coach-icon{width:44px;height:44px;border-radius:50%;background:#38bdf8;display:flex;align-items:center;justify-content:center;color:#0b1020}
    .coach-icon svg{width:22px;height:22px}
    .coach-subtitle{font-size:12px;color:var(--muted)}
    .coach-block{margin-top:14px}
    .coach-title{font-weight:600;margin-bottom:6px}
    .coach-block ul,.coach-block ol{margin:6px 0 0 18px;color:var(--muted)}
    .rec-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
    .rec-card{background:var(--card-soft);border-radius:14px;padding:16px}
    .rec-icon{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:10px}
    .rec-icon.strength{background:rgba(168,85,247,0.2);color:#e9d5ff}
    .rec-icon.ride{background:rgba(245,158,11,0.2);color:#fde68a}
    .rec-icon.run{background:rgba(34,197,94,0.2);color:#bbf7d0}
    .rec-icon.swim{background:rgba(56,189,248,0.2);color:#bae6fd}
    .back-link{display:inline-block;margin-bottom:10px;font-size:12px;color:#7dd3fc;text-decoration:none}
    .rec-title{font-weight:600;margin-bottom:8px}
    .rec-card ul{margin:0 0 0 16px;color:var(--muted)}
    .glossary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;color:var(--muted)}
    .trend-score{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:16px}
    .plan-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin-top:12px}
    .plan-card{background:var(--card-soft);border-radius:14px;padding:14px;border:1px solid rgba(148,163,184,0.12)}
    .plan-card h3{margin:0 0 8px 0;font-size:16px}
    .plan-note{margin-top:10px;color:var(--muted);font-size:13px}
    .score-card{background:var(--card-soft);border-radius:14px;padding:16px}
    .score-title{font-size:12px;color:var(--muted)}
    .score-value{font-size:24px;font-weight:700;margin-top:6px;color:var(--accent)}
    .score-note{font-size:11px;color:var(--muted);margin-top:6px}
    .lt-meta{margin-top:12px;font-size:12px;color:var(--muted)}
    .lt-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:12px}
    .lt-panel{background:var(--card-soft);border-radius:14px;padding:16px}
    .lt-panel h3{margin:0 0 8px 0;font-size:13px}
    .lt-list{margin:0 0 0 16px;color:var(--muted)}
    .lt-list li{margin-bottom:6px}
    .lt-alert li{color:#fca5a5}
    .lt-empty{font-size:12px;color:var(--muted)}
    .lt-blocks{display:grid;gap:8px}
    .lt-block{background:var(--card-2);border-radius:10px;padding:10px;font-size:12px;color:var(--muted)}

    .chart-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:14px}
    .chart-card{background:var(--card-soft);border-radius:14px;padding:14px;border:1px solid rgba(148,163,184,0.12)}
    .chart-head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:10px}
    .chart-title{font-family:"Space Grotesk",sans-serif;font-weight:700;font-size:14px;margin:0}
    .chart-sub{margin-top:4px;font-size:11px;color:var(--muted);line-height:1.4}
    .chart-actions{display:flex;gap:8px;align-items:center}
    .chart-btn{appearance:none;border:1px solid rgba(148,163,184,0.28);background:rgba(15,23,42,0.45);color:#e2e8f0;border-radius:999px;padding:6px 10px;font-size:11px;font-weight:600;cursor:pointer}
    .chart-btn:hover{border-color:rgba(94,163,255,0.5);background:rgba(15,23,42,0.6)}
    .chart-wrap{position:relative;height:260px}
    .chart-wrap canvas{width:100% !important;height:100% !important}
    .chart-help{margin-top:10px;padding-top:10px;border-top:1px dashed rgba(148,163,184,0.18);color:var(--muted);font-size:12px}
    .chart-help summary{cursor:pointer;list-style:none;display:flex;align-items:center;gap:8px;font-weight:700;color:#cbd5f5}
    .chart-help summary::-webkit-details-marker{display:none}
    .chart-help .help-body{margin-top:8px;line-height:1.5}
    .chart-help ul{margin:6px 0 0 18px}
    .chart-help li{margin-bottom:6px}
    .caret{width:10px;height:10px;border-right:2px solid #cbd5f5;border-bottom:2px solid #cbd5f5;transform:rotate(-45deg);transition:transform .18s ease}
    details[open] .caret{transform:rotate(45deg)}

    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:24px;z-index:1000}
    .modal.open{display:flex}
    .modal-backdrop{position:absolute;inset:0;background:rgba(4,7,16,0.72);backdrop-filter:blur(6px)}
    .modal-panel{position:relative;width:min(980px, calc(100vw - 24px));max-height:calc(100vh - 24px);overflow:auto;background:linear-gradient(180deg, rgba(18,26,51,0.96), rgba(12,18,38,0.96));border:1px solid rgba(148,163,184,0.18);border-radius:18px;box-shadow:0 24px 80px rgba(0,0,0,0.55);padding:16px}
    .modal-head{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:10px}
    .modal-title{margin:0;font-family:"Space Grotesk",sans-serif;font-size:18px}
    .modal-close{appearance:none;border:1px solid rgba(148,163,184,0.28);background:rgba(15,23,42,0.45);color:#e2e8f0;border-radius:999px;padding:7px 12px;font-size:11px;font-weight:700;cursor:pointer}
    .modal-close:hover{border-color:rgba(255,111,145,0.55);background:rgba(15,23,42,0.65)}
    .modal-chart{height:520px}

    @media (max-width:720px){
      .chart-wrap{height:220px}
      .modal{padding:12px}
      .modal-chart{height:420px}
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="hero">
    <div>
      <h1>Relatório de Coaching</h1>
      <p>Thais Lourenço | Semana 2026-02-09 a 2026-02-15</p>
    </div>
    <div style="display:flex;gap:12px;align-items:center">
      <div class="hero-pill">Base Geral (final) -> Build Inicial</div>
      <div class="hero-status status-hold">HOLD</div>
    </div>
  </div>

  <section class="card section">
    <h2>Calendário de Provas</h2>
    <div class="race-card priority-B">
  <div class="race-days">
    <div class="days">21</div>
    <div class="label">DIAS</div>
    <div class="sub">3 sem</div>
  </div>
  <div class="race-info">
    <div class="race-name">Circuito Oscar Fila (10 km) - Sao Jose dos Campos</div>
    <div class="race-meta">Corrida 10 km | Prioridade B</div>
    <div class="race-estimate">Estimativa hoje: 1h02min</div>
    <div class="race-status">Planejada</div>
  </div>
  <div class="race-badge">Especifico Run</div>
</div>
<div class="race-card priority-A">
  <div class="race-days">
    <div class="days">70</div>
    <div class="label">DIAS</div>
    <div class="sub">10 sem</div>
  </div>
  <div class="race-info">
    <div class="race-name">Triathlon Sprint - Santos</div>
    <div class="race-meta">Triathlon Sprint | Prioridade A</div>
    <div class="race-estimate">Estimativa hoje: 1h48min</div>
    <div class="race-status">Planejada</div>
  </div>
  <div class="race-badge">Peak</div>
</div>
<div class="race-card priority-C">
  <div class="race-days">
    <div class="days">84</div>
    <div class="label">DIAS</div>
    <div class="sub">12 sem</div>
  </div>
  <div class="race-info">
    <div class="race-name">DCTA Run Airport (10 km) - Sao Jose dos Campos</div>
    <div class="race-meta">Corrida 10 km | Prioridade C</div>
    <div class="race-estimate">Estimativa hoje: 1h02min</div>
    <div class="race-status">Planejada</div>
  </div>
  <div class="race-badge">Build</div>
</div>
<div class="race-card priority-C">
  <div class="race-days">
    <div class="days">161</div>
    <div class="label">DIAS</div>
    <div class="sub">23 sem</div>
  </div>
  <div class="race-info">
    <div class="race-name">Meia Maratona Nike SPCity</div>
    <div class="race-meta">Corrida 21.1 km | Prioridade C</div>
    <div class="race-estimate">Estimativa hoje: 2h11min</div>
    <div class="race-status">Planejada</div>
  </div>
  <div class="race-badge">Build</div>
</div>
  </section>

  <section class="card section">
    <h2>Performance da Semana</h2>
    <div class="performance-grid">
  <div class="stat-card">
    <div class="stat-value">30.2</div>
    <div class="stat-label">CTL (Fitness)</div>
    <div class="stat-pill">+3.9</div>
    <div class="stat-note">Forma fisica acumulada nos ultimos 42 dias.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">47.8</div>
    <div class="stat-label">ATL (Fadiga)</div>
    <div class="stat-pill">+16.6</div>
    <div class="stat-note">Carga de treino dos ultimos 7 dias.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">-17.6</div>
    <div class="stat-label">TSB (Forma)</div>
    <div class="stat-pill tsb-med">Cansado</div>
    <div class="stat-note">CTL - ATL. Negativo = cansado. Ideal +5 a +15.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">87.5%</div>
    <div class="stat-label">Aderência ao plano</div>
    <div class="stat-pill comp-good">Excelente</div>
    <div class="stat-note">Quanto do plano foi cumprido (treinos + descanso). Treinos: 7/7 (100.0%) · Descanso: 0/1 · Extras: 4. Planejado: 8 sess | 51h | 241km. Executado: 11 sess | 101h | 1181km.</div>
  </div>
</div>
  </section>

  <section class="card section" id="wellness">
    <h2>Wellness da Semana</h2>
    <div class="wellness-grid">
  <div class="wellness-card">
    <div class="value">44.6</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 1 0-7.8 7.8l1 1L12 21l7.8-7.6 1-1a5.5 5.5 0 0 0 0-7.8z"/></svg></span>FC repouso <a class="info-icon" href="#glossario-wellness" title="Batimentos em repouso; aumento pode indicar fadiga."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">0 bpm vs base</div>
  </div>
  <div class="wellness-card">
    <div class="value">51.4</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12c2-4 4 4 6 0s4 4 6 0 4 4 6 0"/></svg></span>HRV <a class="info-icon" href="#glossario-wellness" title="Variabilidade da frequencia cardiaca; baixo sinaliza estresse."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">0 ms vs base</div>
  </div>
  <div class="wellness-card">
    <div class="value">7.4 h</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.8A9 9 0 1 1 11.2 3 7 7 0 0 0 21 12.8z"/></svg></span>Sono medio <a class="info-icon" href="#glossario-wellness" title="Horas dormidas; abaixo do ideal reduz recuperacao."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">0h vs ideal</div>
  </div>
  <div class="wellness-card">
    <div class="value">59 kg</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="16" rx="2"/><path d="M12 8v4"/><path d="M9 8h6"/></svg></span>Peso <a class="info-icon" href="#glossario-wellness" title="Acompanhar tendencia semanal, nao dia isolado."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">última medida</div>
  </div>
  <div class="wellness-card">
    <div class="value">2.06</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="20" x2="4" y2="10"/><line x1="10" y1="20" x2="10" y2="6"/><line x1="16" y1="20" x2="16" y2="14"/><line x1="22" y1="20" x2="22" y2="4"/></svg></span>Monotonia <a class="info-icon" href="#glossario-wellness" title="Variabilidade da carga diaria; alto = risco de estresse."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">carga diária</div>
  </div>
  <div class="wellness-card">
    <div class="value">376</div>
    <div class="label"><span class="well-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></span>Strain <a class="info-icon" href="#glossario-wellness" title="Carga semanal total; alto com sono baixo = alerta."><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="12" y1="7" x2="12.01" y2="7"/></svg></a></div>
    <div class="delta neu">carga semanal</div>
  </div>
</div>
  </section>

  <section class="card section">
    <h2>Fase do Ciclo: Base Geral (final) -> Build Inicial</h2>
    <div class="phase-grid">
      <div>
        <h3>Objetivo desta fase</h3>
        <ul><li>Triathlon Sprint (A) + 10 km (B)</li><li>Run: Base forte + progressao leve para 10 km</li><li>Swim: Tecnica, sem intensidade (retorno recente) | limiar ~2:20/100m</li></ul>
      </div>
      <div>
        <h3>Transição para Build</h3>
        <ul><li>Introduzir intervalos de Threshold (bike)</li><li>Tiros curtos na corrida (se joelho permitir)</li><li>Natação: aumentar volume + séries de ritmo</li></ul>
      </div>
    </div>
    <div class="timeline">
      <div class="step">Esta semana<br><strong>HOLD</strong></div>
      <div class="step">Semana +1<br><strong>Normal</strong></div>
      <div class="step">Semana +2<br><strong>Volume</strong></div>
      <div class="step">Semana +3<br><strong>Deload</strong></div>
    </div>
  </section>

  <section class="card section">
    <div class="grid grid-4">
      <div class="metric"><div class="value">9.5 h</div><div class="label">Tempo total</div></div>
      <div class="metric"><div class="value">117.5 km</div><div class="label">Distância</div></div>
      <div class="metric"><div class="value">376</div><div class="label">Carga (TSS)</div></div>
      <div class="metric"><div class="value">3.9</div><div class="label">RampRate</div></div>
    </div>
    <div class="grid grid-4" style="margin-top:12px">
      <div class="metric"><div class="value">11</div><div class="label">Atividades</div></div>
      <div class="metric"><div class="value">59</div><div class="label">Peso</div></div>
      <div class="metric"><div class="value">2.06</div><div class="label">Monotonia</div></div>
      <div class="metric"><div class="value">376</div><div class="label">Strain</div></div>
    </div>
  </section>

  

  <section class="card section"><h2>Analise Semanal (resumo)</h2><ul><li>Classificacao: <strong>HOLD</strong></li><li>Aderencia ao plano (geral): 87.5% | Treinos 7/7 | Descanso 0/1 | Extras 4</li><li>Aderencia (treinos): 100.0%</li><li>CTL/ATL/TSB: 30.2 / 47.8 / -17.6</li><li>Sono: 7.4 h</li><li>HRV: 51.4</li><li>FC repouso: 44.6 bpm</li><li>Nao feitos: nenhum</li><li>Extras (fora do plano): 4 (Trememb&#233; Ciclismo, Bike - Endurance Longo, Nata&#231;&#227;o em piscina, For&#231;a)</li></ul></section>

  <section class="card section coach-card">
  <div class="coach-header">
    <div class="coach-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11a8 8 0 0 1-8 8H7l-4 3 1-5a8 8 0 1 1 17-6z"/></svg></div>
    <div>
      <h2>Feedback do Coach</h2>
      <div class="coach-subtitle">O que foi bem, o que ajustar e o foco da próxima semana</div>
    </div>
  </div>
  <div class="coach-block">
    <div class="coach-title">Resumo rápido</div>
    <p>Boa semana de consist&#234;ncia: 11 sess&#245;es, 9.5h de treino e 376 TSS. A fadiga ficou moderada (TSB -17.6). Segurar a intensidade e priorizar sono.</p>
    <p class="muted" style="margin:8px 0 0 0">Ader&#234;ncia ao plano: 87.5%. Treinos: 7/7 (100.0%) &#183; Descanso: 0/1 &#183; Extras: 4.</p>
  </div>
  <div class="coach-block">
    <div class="coach-title">O que você fez bem</div>
    <ul><li>Voc&#234; concluiu 7 de 7 treinos planejados.</li><li>Long&#227;o feito: Run - Longao Z2 (88 min &#183; 14 km).</li><li>Sess&#227;o de qualidade na corrida conclu&#237;da: Run - Intervalado 10km.</li><li>For&#231;a presente (2x) para sustentar bike/corrida e proteger o joelho.</li><li>Voc&#234; ainda fez 4 sess&#227;o(&#245;es) extra. Boa energia, s&#243; vamos encaixar sem atrapalhar recupera&#231;&#227;o.</li></ul>
  </div>
  <div class="coach-block">
    <div class="coach-title">O que ficou pendente</div>
    <ul><li>Descanso n&#227;o respeitado em: 2026-02-15</li></ul>
  </div>
  <div class="coach-block">
    <div class="coach-title">Foco para a próxima semana</div>
    <p>Faltam 70 dias para Triathlon Sprint - Santos (Prova A). Outras provas no radar: Circuito Oscar Fila (10 km) - Sao Jose dos Campos, DCTA Run Airport (10 km) - Sao Jose dos Campos, Meia Maratona Nike SPCity.</p>
    <ol><li>Quando bater vontade de fazer extra, tente substituir (n&#227;o somar) ou me avise para ajustar a semana.</li><li>Manter os 2 pilares da corrida: 1 sess&#227;o de qualidade + 1 long&#227;o (Z2), com progress&#227;o segura.</li></ol>
  </div>
</section>
 
  <section class="card section">
    <div style="display:flex;justify-content:space-between;align-items:baseline;gap:12px">
      <h2 style="margin:0">Gráficos</h2>
      <div style="color:var(--muted);font-size:12px">Dica: clique em <strong>Ampliar</strong> para ver detalhes.</div>
    </div>
    <div class="chart-grid" style="margin-top:14px">
            <div class="chart-card" data-chart-id="dist-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Distribuicao do treino (tempo)</div>
            <div class="chart-sub">Como o tempo da semana se dividiu entre as modalidades.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="dist-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="dist-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Cada cor e uma modalidade (corrida, bike, natacao, forca). O numero na legenda e o percentual do tempo.</li><li>O objetivo nao e 25/25/25/25 sempre: depende da fase e do foco da prova.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="pmc-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Carga diaria (CTL/ATL/TSB)</div>
            <div class="chart-sub">Fitness (42d), fadiga (7d) e forma (CTL-ATL) ao longo da semana.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="pmc-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="pmc-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>CTL sobe mais devagar; ATL oscila mais. TSB positivo costuma indicar mais descanso; negativo, mais cansaco.</li><li>Use junto com sono/HRV/FC para decidir se mantem, segura ou recua.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="well-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Wellness diario (sono/HRV/FC)</div>
            <div class="chart-sub">Sinais de recuperacao ao longo da semana (escalas diferentes).</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="well-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="well-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Sono usa eixo da esquerda; HRV e FC repouso usam eixo da direita (cores).</li><li>Se HRV cair e FC subir por varios dias, pode ser sinal de estresse/fadiga.</li></ul></div>
        </details>
      </div>
    </div>
  </section>

  <section class="section">
    <h2>Análise das Atividades</h2>
    <div class="activity-card activity-strength">
  <div class="activity-title">
    <div class="activity-icon strength"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10v4M7 8v8M17 8v8M21 10v4"/><path d="M7 12h10"/></svg></div>
    <div>
      <div class="activity-name">Strength - Estabilidade</div>
      <div class="activity-date">2026-02-09</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">56min</div><div class="label">Duração</div></div><div class="metric"><div class="value">7</div><div class="label">TSS</div></div><div class="metric"><div class="value">73 bpm</div><div class="label">FC média</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Forca sem alvo definido. FC controlada.</p><ul><li><strong>Objetivo:</strong> Recuperacao ativa para reduzir fadiga e manter circulacao.</li><li><strong>Planejado vs executado:</strong> Planejado: sem detalhes | Executado: 56min • 0km | Intensidade: Sem alvo detalhado no plano.</li><li><strong>Intensidade:</strong> Potência - | NP - | VI - | IF - | HR 73 bpm</li><li><strong>Wellness do dia:</strong> Sono 7.4h (+0.4h) | HRV 51 (-5 ms) | FC 45 (0 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-run">
  <div class="activity-title">
    <div class="activity-icon run"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 12 6 12 9 6 13 18 16 12 21 12"/></svg></div>
    <div>
      <div class="activity-name">Run - Z2 Leve</div>
      <div class="activity-date">2026-02-09</div>
    </div>
    <div class="activity-badge quality-ok">Dentro</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">25min</div><div class="label">Duração</div></div><div class="metric"><div class="value">4.3km</div><div class="label">Distância</div></div><div class="metric"><div class="value">5:45/km</div><div class="label">Pace</div></div><div class="metric"><div class="value">34</div><div class="label">TSS</div></div><div class="metric"><div class="value">140 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">177W</div><div class="label">Potência</div></div><div class="metric"><div class="value">252W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.9</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Corrida sem alvo definido. Volume abaixo do planejado. FC controlada.</p><ul><li><strong>Objetivo:</strong> Base aerobica para eficiencia metabolica e resistencia.</li><li><strong>Planejado vs executado:</strong> Planejado: 45min • 7.2km • 06:20-06:10/km | Executado: 25min • 4.3km • 177W • 5:45/km | Delta tempo -20.3min • Delta dist -2.9km • Intensidade: Mais r&#225;pido que o alvo</li><li><strong>Pace vs threshold:</strong> 5:45/km (+0:15/km)</li><li><strong>Intensidade:</strong> Potência 177W | NP 252W | IF 0.9 | HR 140 bpm</li><li><strong>Joelho:</strong> manter protocolo e nao progredir se dor > 4/10.</li><li><strong>Wellness do dia:</strong> Sono 7.4h (+0.4h) | HRV 51 (-5 ms) | FC 45 (0 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-strength">
  <div class="activity-title">
    <div class="activity-icon strength"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10v4M7 8v8M17 8v8M21 10v4"/><path d="M7 12h10"/></svg></div>
    <div>
      <div class="activity-name">For&#231;a</div>
      <div class="activity-date">2026-02-10</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">47min</div><div class="label">Duração</div></div><div class="metric"><div class="value">5</div><div class="label">TSS</div></div><div class="metric"><div class="value">71 bpm</div><div class="label">FC média</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Forca sem alvo definido. FC controlada.</p><ul><li><strong>Objetivo:</strong> Forca para estabilidade, prevencao de lesao e suporte ao triathlon.</li><li><strong>Planejado vs executado:</strong> Sem planejado encontrado.</li><li><strong>Intensidade:</strong> Potência - | NP - | VI - | IF - | HR 71 bpm</li><li><strong>Wellness do dia:</strong> Sono 8.3h (+1.3h) | HRV 51 (-5 ms) | FC 44 (-1 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-ride">
  <div class="activity-title">
    <div class="activity-icon ride"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="17" r="3"/><circle cx="19" cy="17" r="3"/><path d="M5 17l5-8h4l4 8M10 9h4"/></svg></div>
    <div>
      <div class="activity-name">Bike - Endurance Z2</div>
      <div class="activity-date">2026-02-10</div>
    </div>
    <div class="activity-badge quality-ok">Dentro</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">55min</div><div class="label">Duração</div></div><div class="metric"><div class="value">17.4km</div><div class="label">Distância</div></div><div class="metric"><div class="value">19 km/h</div><div class="label">Velocidade</div></div><div class="metric"><div class="value">38</div><div class="label">TSS</div></div><div class="metric"><div class="value">122 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">71W</div><div class="label">Potência</div></div><div class="metric"><div class="value">71W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.64</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Ciclismo dentro do alvo. Volume alinhado ao planejado. FC controlada.</p><ul><li><strong>Objetivo:</strong> Base aerobica para eficiencia metabolica e resistencia.</li><li><strong>Planejado vs executado:</strong> Planejado: 55min • 65-80W | Executado: 55min • 17.4km • 71W | Delta tempo 0min • Intensidade: Dentro do alvo</li><li><strong>Intensidade:</strong> Potência 71W | NP 71W | VI 1 | IF 0.64 | HR 122 bpm</li><li><strong>Wellness do dia:</strong> Sono 8.3h (+1.3h) | HRV 51 (-5 ms) | FC 44 (-1 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-swim">
  <div class="activity-title">
    <div class="activity-icon swim"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><path d="M3 21c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><circle cx="7" cy="7" r="2"/><path d="M9 9l4 2"/></svg></div>
    <div>
      <div class="activity-name">Nata&#231;&#227;o em piscina</div>
      <div class="activity-date">2026-02-11</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">35min</div><div class="label">Duração</div></div><div class="metric"><div class="value">1500m</div><div class="label">Distância</div></div><div class="metric"><div class="value">2:19/100m</div><div class="label">Pace 100m</div></div><div class="metric"><div class="value">16</div><div class="label">TSS</div></div><div class="metric"><div class="value">109 bpm</div><div class="label">FC média</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Natacao sem alvo definido. FC controlada. Wellness baixo (HRV baixa) pode ter influenciado.</p><ul><li><strong>Objetivo:</strong> Natacao aerobica com foco tecnico.</li><li><strong>Planejado vs executado:</strong> Sem planejado encontrado.</li><li><strong>Intensidade:</strong> Pace 2:19/100m | Volume 1500m</li><li><strong>Wellness do dia:</strong> Sono 7.6h (+0.6h) | HRV 49 (-7 ms) | FC 45 (0 bpm) | Alerta: HRV baixa</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-run">
  <div class="activity-title">
    <div class="activity-icon run"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 12 6 12 9 6 13 18 16 12 21 12"/></svg></div>
    <div>
      <div class="activity-name">Run - Intervalado 10km</div>
      <div class="activity-date">2026-02-11</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">24min</div><div class="label">Duração</div></div><div class="metric"><div class="value">3.7km</div><div class="label">Distância</div></div><div class="metric"><div class="value">6:29/km</div><div class="label">Pace</div></div><div class="metric"><div class="value">28</div><div class="label">TSS</div></div><div class="metric"><div class="value">136 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">216W</div><div class="label">Potência</div></div><div class="metric"><div class="value">235W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.84</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Corrida sem alvo definido. Volume alinhado ao planejado. FC controlada. Wellness baixo (HRV baixa) pode ter influenciado.</p><ul><li><strong>Objetivo:</strong> Intervalos para estimular VO2 e velocidade.</li><li><strong>Planejado vs executado:</strong> Planejado: 22min • 3.3km | Executado: 24min • 3.7km • 216W • 6:29/km | Delta tempo +2min • Delta dist +0.4km • Intensidade: Sem alvo detalhado no plano.</li><li><strong>Pace vs threshold:</strong> 6:29/km (+0:59/km)</li><li><strong>Intensidade:</strong> Potência 216W | NP 235W | IF 0.84 | HR 136 bpm</li><li><strong>Joelho:</strong> manter protocolo e nao progredir se dor > 4/10.</li><li><strong>Wellness do dia:</strong> Sono 7.6h (+0.6h) | HRV 49 (-7 ms) | FC 45 (0 bpm) | Alerta: HRV baixa</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-ride">
  <div class="activity-title">
    <div class="activity-icon ride"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="17" r="3"/><circle cx="19" cy="17" r="3"/><path d="M5 17l5-8h4l4 8M10 9h4"/></svg></div>
    <div>
      <div class="activity-name">Bike - Endurance Longo</div>
      <div class="activity-date">2026-02-12</div>
    </div>
    <div class="activity-badge quality-ok">Dentro</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">40min</div><div class="label">Duração</div></div><div class="metric"><div class="value">11.6km</div><div class="label">Distância</div></div><div class="metric"><div class="value">17.4 km/h</div><div class="label">Velocidade</div></div><div class="metric"><div class="value">30</div><div class="label">TSS</div></div><div class="metric"><div class="value">103 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">75W</div><div class="label">Potência</div></div><div class="metric"><div class="value">75W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.68</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Ciclismo dentro do alvo. Volume abaixo do planejado. FC controlada. Wellness baixo (HRV baixa) pode ter influenciado.</p><ul><li><strong>Objetivo:</strong> Base aerobica para eficiencia metabolica e resistencia.</li><li><strong>Planejado vs executado:</strong> Planejado: 85min • 62-78W | Executado: 40min • 11.6km • 75W | Delta tempo -44.9min • Intensidade: Dentro do alvo</li><li><strong>Intensidade:</strong> Potência 75W | NP 75W | VI 1 | IF 0.68 | HR 103 bpm</li><li><strong>Wellness do dia:</strong> Sono 7.4h (+0.4h) | HRV 43 (-13 ms) | FC 47 (+2 bpm) | Alerta: HRV baixa</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-ride">
  <div class="activity-title">
    <div class="activity-icon ride"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="17" r="3"/><circle cx="19" cy="17" r="3"/><path d="M5 17l5-8h4l4 8M10 9h4"/></svg></div>
    <div>
      <div class="activity-name">Bike - Endurance Longo</div>
      <div class="activity-date">2026-02-12</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">33min</div><div class="label">Duração</div></div><div class="metric"><div class="value">10.1km</div><div class="label">Distância</div></div><div class="metric"><div class="value">18.1 km/h</div><div class="label">Velocidade</div></div><div class="metric"><div class="value">21</div><div class="label">TSS</div></div><div class="metric"><div class="value">103 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">68W</div><div class="label">Potência</div></div><div class="metric"><div class="value">68W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.61</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Ciclismo sem alvo definido. FC controlada. Wellness baixo (HRV baixa) pode ter influenciado.</p><ul><li><strong>Objetivo:</strong> Base aerobica para eficiencia metabolica e resistencia.</li><li><strong>Planejado vs executado:</strong> Sem planejado encontrado.</li><li><strong>Intensidade:</strong> Potência 68W | NP 68W | VI 1 | IF 0.61 | HR 103 bpm</li><li><strong>Wellness do dia:</strong> Sono 7.4h (+0.4h) | HRV 43 (-13 ms) | FC 47 (+2 bpm) | Alerta: HRV baixa</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-swim">
  <div class="activity-title">
    <div class="activity-icon swim"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><path d="M3 21c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><circle cx="7" cy="7" r="2"/><path d="M9 9l4 2"/></svg></div>
    <div>
      <div class="activity-name">Swim - Tecnica</div>
      <div class="activity-date">2026-02-13</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">32min</div><div class="label">Duração</div></div><div class="metric"><div class="value">1500m</div><div class="label">Distância</div></div><div class="metric"><div class="value">2:10/100m</div><div class="label">Pace 100m</div></div><div class="metric"><div class="value">15</div><div class="label">TSS</div></div><div class="metric"><div class="value">103 bpm</div><div class="label">FC média</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Natacao sem alvo definido. Volume acima do planejado. FC controlada.</p><ul><li><strong>Objetivo:</strong> Recuperacao ativa para reduzir fadiga e manter circulacao.</li><li><strong>Planejado vs executado:</strong> Planejado: 26.7min • 800m | Executado: 32min • 1500m | Delta tempo +5.7min • Delta dist +700m • Intensidade: Sem alvo detalhado no plano.</li><li><strong>Intensidade:</strong> Pace 2:10/100m | Volume 1500m</li><li><strong>Wellness do dia:</strong> Sono 7.7h (+0.7h) | HRV 55 (-1 ms) | FC 42 (-3 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-run">
  <div class="activity-title">
    <div class="activity-icon run"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 12 6 12 9 6 13 18 16 12 21 12"/></svg></div>
    <div>
      <div class="activity-name">Run - Longao Z2</div>
      <div class="activity-date">2026-02-14</div>
    </div>
    <div class="activity-badge quality-low">Abaixo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">88min</div><div class="label">Duração</div></div><div class="metric"><div class="value">14km</div><div class="label">Distância</div></div><div class="metric"><div class="value">6:16/km</div><div class="label">Pace</div></div><div class="metric"><div class="value">98</div><div class="label">TSS</div></div><div class="metric"><div class="value">143 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">226W</div><div class="label">Potência</div></div><div class="metric"><div class="value">228W</div><div class="label">NP</div></div><div class="metric"><div class="value">0.82</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Corrida abaixo do alvo. Volume acima do planejado. FC controlada. Wellness baixo (sono baixo) pode ter influenciado.</p><ul><li><strong>Objetivo:</strong> Base aerobica para eficiencia metabolica e resistencia.</li><li><strong>Planejado vs executado:</strong> Planejado: 75min • 12.2km • 06:15-06:05/km | Executado: 88min • 14km • 226W • 6:16/km | Delta tempo +12.8min • Delta dist +1.8km • Intensidade: Mais lento que o alvo</li><li><strong>Pace vs threshold:</strong> 6:16/km (+0:46/km)</li><li><strong>Intensidade:</strong> Potência 226W | NP 228W | IF 0.82 | HR 143 bpm</li><li><strong>Joelho:</strong> manter protocolo e nao progredir se dor > 4/10.</li><li><strong>Wellness do dia:</strong> Sono 6.4h (-0.6h) | HRV 57 (+1 ms) | FC 44 (-1 bpm) | Alerta: sono baixo</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
<div class="activity-card activity-ride">
  <div class="activity-title">
    <div class="activity-icon ride"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="17" r="3"/><circle cx="19" cy="17" r="3"/><path d="M5 17l5-8h4l4 8M10 9h4"/></svg></div>
    <div>
      <div class="activity-name">Trememb&#233; Ciclismo</div>
      <div class="activity-date">2026-02-15</div>
    </div>
    <div class="activity-badge quality-low">Sem alvo</div>
  </div>
  <div class="activity-metrics">
    <div class="metric"><div class="value">133min</div><div class="label">Duração</div></div><div class="metric"><div class="value">53.4km</div><div class="label">Distância</div></div><div class="metric"><div class="value">24.1 km/h</div><div class="label">Velocidade</div></div><div class="metric"><div class="value">84</div><div class="label">TSS</div></div><div class="metric"><div class="value">122 bpm</div><div class="label">FC média</div></div><div class="metric"><div class="value">-</div><div class="label">Potência</div></div><div class="metric"><div class="value">-</div><div class="label">NP</div></div><div class="metric"><div class="value">-</div><div class="label">IF</div></div>
  </div>
  <div class="analysis-block">
    <div class="analysis-title">Análise Completa</div>
    <p class="analysis-summary">Ciclismo sem alvo definido. FC controlada.</p><ul><li><strong>Objetivo:</strong> Sessao de ciclismo para evolucao aerobica.</li><li><strong>Planejado vs executado:</strong> Sem planejado encontrado.</li><li><strong>Intensidade:</strong> Potência - | NP - | VI - | IF - | HR 122 bpm</li><li><strong>Wellness do dia:</strong> Sono 7h (0h) | HRV 54 (-2 ms) | FC 45 (0 bpm)</li><li><strong>Recomendação:</strong> Manter consistência.</li></ul>
  </div>
</div>
  </section>

  <section class="card section">
    <h2>Tendencias Longo Prazo (12 semanas)</h2>
    <div class="performance-grid">
  <div class="stat-card">
    <div class="stat-value">30.2</div>
    <div class="stat-label">CTL atual</div>
    <div class="stat-pill">+28.9</div>
    <div class="stat-note">Evolucao nas ultimas 12 semanas.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">257</div>
    <div class="stat-label">TSS medio 4s</div>
    <div class="stat-pill">+9</div>
    <div class="stat-note">Comparado com as 4 semanas anteriores.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">7.02 h</div>
    <div class="stat-label">Sono medio 4s</div>
    <div class="stat-pill">+0.9h</div>
    <div class="stat-note">Tendencia recente de recuperacao.</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">59</div>
    <div class="stat-label">Peso atual</div>
    <div class="stat-pill">n/a</div>
    <div class="stat-note">Variacao desde o inicio do periodo.</div>
  </div>
</div>
<div class="trend-score">
  <div class="score-card">
    <div class="score-title">Performance Score</div>
    <div class="score-value">52</div>
    <div class="score-note">CTL + TSB + RampRate</div>
  </div>
  <div class="score-card">
    <div class="score-title">Recovery Status</div>
    <div class="score-value">BOM</div>
    <div class="score-note">Sono, HRV, FC repouso e TSB</div>
  </div>
</div>

<div class="lt-meta">Longo prazo: 2025-11-23 a 2026-02-15</div>
<div class="lt-grid">
  <div class="lt-panel">
    <h3>Insights</h3>
    <ul class="lt-list"><li>[INFO] Progressao lenta: CTL variou apenas 0%</li><li>Consistencia: 92% (11/12 semanas ativas)</li><li>Proporcao media: Bike 36% | Run 31% | Swim 5%</li><li>[INFO] Natacao representa menos de 10% do treino - considere aumentar volume</li></ul>
  </div>
  <div class="lt-panel">
    <h3>Alertas</h3>
    <ul class="lt-list lt-alert"><li>[ALERTA] TSS semanal aumentou muito: +158 TSS/semana</li><li>[ALERTA] Monotonia media alta (2.33) - varie intensidades</li></ul>
  </div>
  <div class="lt-panel">
    <h3>Blocos 4 semanas</h3>
    <div class="lt-blocks"><div class="lt-block"><strong>Bloco 1</strong><div>23/11 - 14/12</div><div>TSS: 99</div><div>CTL: 7.9 | TSB: 0</div></div><div class="lt-block"><strong>Bloco 2</strong><div>21/12 - 11/01</div><div>TSS: 248</div><div>CTL: 22.4 | TSB: 0</div></div><div class="lt-block"><strong>Bloco 3</strong><div>18/01 - 08/02</div><div>TSS: 257</div><div>CTL: 28.9 | TSB: 0</div></div></div>
  </div>
</div>
    <div class="chart-grid" style="margin-top:16px">
            <div class="chart-card" data-chart-id="trend-load-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Carga (CTL/ATL/TSB)</div>
            <div class="chart-sub">Evolucao semanal de fitness, fadiga e forma.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-load-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-load-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>CTL (fitness) e media ~42 dias; ATL (fadiga) e media ~7 dias; TSB = CTL - ATL.</li><li>TSB muito negativo por varias semanas + sono baixo costuma pedir ajuste.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-tss-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Carga (TSS) e Horas</div>
            <div class="chart-sub">Volume e carga semanal ao longo do tempo.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-tss-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-tss-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Barras = TSS semanal; linha = horas totais.</li><li>O ideal e progredir com estabilidade, sem picos bruscos.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-well-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Wellness</div>
            <div class="chart-sub">Sono, HRV, FC repouso e peso (escalas diferentes).</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-well-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-well-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Sono usa eixo da esquerda; HRV/FC/peso usam eixos da direita (cores).</li><li>Queda de HRV + alta de FC + sono baixo sugerem estresse/fadiga.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-modality-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Distribuicao por modalidade</div>
            <div class="chart-sub">Percentual do tempo por modalidade (0 a 100%).</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-modality-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-modality-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Mostra como o foco da semana mudou (bike/run/swim/forca).</li><li>Ajuda a checar se a semana ficou muito desequilibrada.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-bike-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Bike (IF/VI/Decoupling)</div>
            <div class="chart-sub">Qualidade e estabilidade do ciclismo.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-bike-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-bike-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>IF = intensidade relativa (quanto mais alto, mais intenso). VI perto de 1.00 = pedal mais constante.</li><li>Decoupling alto em treinos longos pode indicar base aerobica a desenvolver.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-run-chart">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Corrida (Cadencia/Decoupling)</div>
            <div class="chart-sub">Efici&#234;ncia e fadiga na corrida.</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-run-chart" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-run-chart"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Cadencia (spm) mais estavel e bom sinal; decoupling alto = queda de eficiencia ao longo do treino.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-zone-bike">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Zonas Bike</div>
            <div class="chart-sub">Percentual em cada zona (0 a 100%).</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-zone-bike" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-zone-bike"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Z2 maior = base; Z3+ maior = mais intensidade. O contexto da fase importa.</li></ul></div>
        </details>
      </div>
      <div class="chart-card" data-chart-id="trend-zone-run">
        <div class="chart-head">
          <div>
            <div class="chart-title">Tendencia: Zonas Corrida</div>
            <div class="chart-sub">Percentual em cada zona (0 a 100%).</div>
          </div>
          <div class="chart-actions">
            <button class="chart-btn chart-expand" type="button" data-chart="trend-zone-run" title="Ampliar gráfico">Ampliar</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="trend-zone-run"></canvas></div>
        <details class="chart-help">
          <summary><span class="caret"></span> O que este gráfico significa</summary>
          <div class="help-body"><ul><li>Boa base normalmente tem grande parte em Z1/Z2; intensidade aparece em blocos.</li></ul></div>
        </details>
      </div>
    </div>
  </section>

    <section class="card section">
    <h2>Plano de Longo Prazo</h2>
    <div class="plan-grid">
      <div class="plan-card">
        <h3>Rota até Prova A</h3>
        <div><strong>Triathlon Sprint - Santos</strong> 26/04/2026</div>
        <div style="margin-top:6px">Faltam <strong>70 dias</strong> (referência: semana atual)</div>
      </div>
      <div class="plan-card">
        <h3>Calendário de fases</h3>
        <ul><li>03/02-07/03: Base Geral (final) + especifico 10 km (controle de volume, strides)</li><li>09/03-12/04: Build Inicial (bike Sweet Spot/FTP, swim volume)</li><li>13/04-26/04: Build Especifico Sprint + Taper (ultima semana)</li><li>27/04-14/06: Base/Build 2 (manter tri, consolidar bike, aumentar swim)</li><li>15/06-26/07: Build Run para Meia (progressao long run + ritmo)</li></ul>
      </div>
    </div>
    <div class="plan-note">As transições tendem a ocorrer nos períodos acima e podem ser ajustadas conforme resposta do corpo, joelho e proximidade da prova principal.</div>
  </section>

  <section class="card section">
  <h2>Recomendacoes Tecnicas</h2>
  <div class="rec-grid">
    <div class="rec-card">
      <div class="rec-icon strength"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10v4M7 8v8M17 8v8M21 10v4"/><path d="M7 12h10"/></svg></div>
      <div class="rec-title">Forca</div>
      <ul>
        <li>Gluteo medio/maximo (estabilidade no pedal e corrida)</li>
        <li>Core anti-rotacao (natacao e bike aero)</li>
        <li>Panturrilha excêntrica (protecao tendao Aquiles)</li>
        <li>Mobilidade de quadril (posicao aero)</li>
      </ul>
    </div>
    <div class="rec-card">
      <div class="rec-icon ride"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="17" r="3"/><circle cx="19" cy="17" r="3"/><path d="M5 17l5-8h4l4 8M10 9h4"/></svg></div>
      <div class="rec-title">Ciclismo</div>
      <ul>
        <li>Cadencia: manter 85-95 rpm em Z2</li>
        <li>Pedalada redonda: foco no &quot;puxar&quot; (11h-2h)</li>
        <li>Posicao aero: aumentar tempo gradualmente</li>
        <li>Sweet Spot: progressao para Build</li>
      </ul>
    </div>
    <div class="rec-card">
      <div class="rec-icon run"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 12 6 12 9 6 13 18 16 12 21 12"/></svg></div>
      <div class="rec-title">Corrida</div>
      <ul>
        <li>Cadencia alta (175-180 spm) para reduzir impacto</li>
        <li>Aterrissagem medio-pe</li>
        <li>Volume protegido ate joelho &lt; 3/10</li>
        <li>Fortalecimento: step-ups, agachamento unilateral</li>
      </ul>
    </div>
    <div class="rec-card">
      <div class="rec-icon swim"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><path d="M3 21c2 1.5 4 1.5 6 0s4-1.5 6 0 4 1.5 6 0"/><circle cx="7" cy="7" r="2"/><path d="M9 9l4 2"/></svg></div>
      <div class="rec-title">Natacao</div>
      <ul>
        <li>Rotacao de quadril (nao so ombros)</li>
        <li>Cotovelo alto na puxada</li>
        <li>Respiracao bilateral</li>
        <li>Aumentar frequencia: 3x/semana minimo</li>
      </ul>
    </div>
  </div>
</section>

  <section class="card section" id="glossario-wellness">
  <h2>Glossario Wellness</h2>
  <a class="back-link" href="#wellness">Voltar ao Wellness</a>
  <div class="glossary-grid">
    <div><strong>FC repouso:</strong> batimentos em repouso; aumento pode indicar fadiga.</div>
    <div><strong>HRV:</strong> variabilidade da frequencia cardiaca; baixo sinaliza estresse.</div>
    <div><strong>Sono medio:</strong> horas dormidas; abaixo do ideal reduz recuperacao.</div>
    <div><strong>Peso:</strong> acompanhamento semanal; use tendencia, nao dia isolado.</div>
    <div><strong>Monotonia:</strong> variabilidade da carga diaria; alto = risco de estresse.</div>
    <div><strong>Strain:</strong> carga semanal; alto com sono baixo = alerta.</div>
  </div>
</section>
</div>
<div class="modal" id="chartModal" aria-hidden="true">
  <div class="modal-backdrop" data-modal-close="1"></div>
  <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="chartModalTitle">
    <div class="modal-head">
      <div>
        <h3 class="modal-title" id="chartModalTitle">Gráfico</h3>
        <div class="chart-sub" id="chartModalSub"></div>
      </div>
      <button class="modal-close" type="button" data-modal-close="1">Fechar</button>
    </div>
    <div class="chart-wrap modal-chart"><canvas id="chartModalCanvas"></canvas></div>
  </div>
</div>
<script>
  (function(){
    Chart.defaults.color = '#cbd5f5';
    Chart.defaults.font.family = 'Sora, sans-serif';

    const chartConfigs = {};
    const charts = {};

    function deepClone(o){ return JSON.parse(JSON.stringify(o)); }
    function applyCommonOptions(cfg){
      cfg.options = cfg.options || {};
      cfg.options.responsive = true;
      cfg.options.maintainAspectRatio = false;
      cfg.options.interaction = cfg.options.interaction || { mode: 'index', intersect: false };
      cfg.options.plugins = cfg.options.plugins || {};
      cfg.options.plugins.legend = cfg.options.plugins.legend || {};
      cfg.options.plugins.legend.position = cfg.options.plugins.legend.position || 'bottom';
      cfg.options.plugins.legend.labels = cfg.options.plugins.legend.labels || {};
      cfg.options.plugins.legend.labels.color = '#e2e8f0';
      cfg.options.plugins.legend.labels.boxWidth = cfg.options.plugins.legend.labels.boxWidth || 10;
      cfg.options.plugins.legend.labels.padding = cfg.options.plugins.legend.labels.padding || 12;
      cfg.options.plugins.tooltip = cfg.options.plugins.tooltip || {};
      cfg.options.plugins.tooltip.backgroundColor = 'rgba(15,23,42,0.95)';
      cfg.options.plugins.tooltip.titleColor = '#e2e8f0';
      cfg.options.plugins.tooltip.bodyColor = '#e2e8f0';
      cfg.options.plugins.tooltip.borderColor = 'rgba(148,163,184,0.25)';
      cfg.options.plugins.tooltip.borderWidth = 1;
      cfg.options.plugins.tooltip.padding = 10;
      cfg.options.scales = cfg.options.scales || {};
      Object.keys(cfg.options.scales).forEach((k) => {
        const axis = cfg.options.scales[k];
        axis.ticks = axis.ticks || {};
        axis.ticks.color = axis.ticks.color || '#94a3b8';
        axis.ticks.maxRotation = axis.ticks.maxRotation ?? 0;
        axis.grid = axis.grid || {};
        axis.grid.color = axis.grid.color || 'rgba(148,163,184,0.10)';
      });
      cfg.elements = cfg.elements || {};
      cfg.elements.point = cfg.elements.point || {};
      cfg.elements.point.radius = cfg.elements.point.radius ?? 2;
      cfg.elements.point.hoverRadius = cfg.elements.point.hoverRadius ?? 6;
      return cfg;
    }

    function makeChart(id, cfg){
      const el = document.getElementById(id);
      if(!el || !cfg) return;
      chartConfigs[id] = cfg;
      const built = applyCommonOptions(deepClone(cfg));
      charts[id] = new Chart(el, built);
      el.style.cursor = 'zoom-in';
      el.addEventListener('click', () => openModal(id));
    }

    function openModal(id){
      const modal = document.getElementById('chartModal');
      const titleEl = document.getElementById('chartModalTitle');
      const subEl = document.getElementById('chartModalSub');
      const canvas = document.getElementById('chartModalCanvas');
      const cfg = chartConfigs[id];
      if(!modal || !titleEl || !subEl || !canvas || !cfg) return;

      const card = document.querySelector('.chart-card[data-chart-id=\"' + id + '\"]');
      const title = (card && card.querySelector('.chart-title')) ? card.querySelector('.chart-title').textContent.trim() : 'Gráfico';
      const sub = (card && card.querySelector('.chart-sub')) ? card.querySelector('.chart-sub').textContent.trim() : '';
      titleEl.textContent = title;
      subEl.textContent = sub;

      if(window.__chartModalInstance){ window.__chartModalInstance.destroy(); window.__chartModalInstance = null; }
      const expanded = applyCommonOptions(deepClone(cfg));
      if(expanded.options && expanded.options.scales && expanded.options.scales.x){
        expanded.options.scales.x.display = true;
        expanded.options.scales.x.ticks = expanded.options.scales.x.ticks || {};
        expanded.options.scales.x.ticks.autoSkip = true;
        expanded.options.scales.x.ticks.maxTicksLimit = Math.max(6, expanded.options.scales.x.ticks.maxTicksLimit || 0);
      }
      if(expanded.options && expanded.options.plugins && expanded.options.plugins.legend && expanded.options.plugins.legend.labels){
        expanded.options.plugins.legend.labels.font = { size: 12 };
      }
      expanded.elements = expanded.elements || {};
      expanded.elements.point = expanded.elements.point || {};
      expanded.elements.point.radius = Math.max(expanded.elements.point.radius || 2, 3);
      expanded.elements.point.hoverRadius = Math.max(expanded.elements.point.hoverRadius || 6, 8);

      window.__chartModalInstance = new Chart(canvas, expanded);
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeModal(){
      const modal = document.getElementById('chartModal');
      if(!modal) return;
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      if(window.__chartModalInstance){ window.__chartModalInstance.destroy(); window.__chartModalInstance = null; }
    }

    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.chart-expand');
      if(btn){
        const id = btn.getAttribute('data-chart');
        if(id){ openModal(id); }
      }
      if(e.target.closest('[data-modal-close]')){ closeModal(); }
    });
    document.addEventListener('keydown', (e) => { if(e.key === 'Escape'){ closeModal(); } });

    chartConfigs['dist-chart'] = {
      type:'doughnut',
      data:{labels:["Ride · 46%","Run · 24%","Swim · 12%","WeightTraining · 18%"],datasets:[{data:[4.36,2.28,1.12,1.71],backgroundColor:['#7dd3fc','#22d3ee','#34d399','#fbbf24','#f472b6'],borderColor:'#0b1020',borderWidth:2}]},
      options:{
        cutout:'60%',
        plugins:{
          tooltip:{
            callbacks:{
              label:(ctx)=>{
                const label = (ctx.label || '').split(' · ')[0] || 'Sessao';
                const v = ctx.parsed;
                const hours = (typeof v === 'number') ? v.toFixed(2) : v;
                return label + ': ' + hours + ' h';
              }
            }
          }
        }
      }
    };
    chartConfigs['pmc-chart'] = {
      type:'line',
      data:{labels:["2026-02-09","2026-02-10","2026-02-11","2026-02-12","2026-02-13","2026-02-14","2026-02-15"],datasets:[
        {label:'CTL',data:[26.3,26.5,26.9,27.5,27.2,28.9,30.2],borderColor:'#7dd3fc',backgroundColor:'rgba(125,211,252,0.15)',tension:.3,borderWidth:2,pointRadius:2},
        {label:'ATL',data:[31.2,32.8,34.2,36.5,33.6,42.2,47.8],borderColor:'#fbbf24',backgroundColor:'rgba(251,191,36,0.15)',tension:.3,borderWidth:2,pointRadius:2},
        {label:'TSB',data:[-4.9,-6.3,-7.3,-9.0,-6.4,-13.3,-17.6],borderColor:'#22c55e',backgroundColor:'rgba(34,197,94,0.10)',tension:.3,borderWidth:2,pointRadius:2}
      ]},
      options:{scales:{x:{ticks:{maxTicksLimit:7}},y:{}}}
    };
    chartConfigs['well-chart'] = {
      type:'line',
      data:{labels:["2026-02-09","2026-02-10","2026-02-11","2026-02-12","2026-02-13","2026-02-14","2026-02-15"],datasets:[
        {label:'Sono (h)',data:[7.4,8.3,7.6,7.4,7.7,6.4,7.0],borderColor:'#34d399',backgroundColor:'rgba(52,211,153,0.15)',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'ySleep'},
        {label:'HRV',data:[51.0,51.0,49.0,43.0,55.0,57.0,54.0],borderColor:'#a78bfa',backgroundColor:'rgba(167,139,250,0.15)',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'yVitals'},
        {label:'FC Repouso',data:[45,44,45,47,42,44,45],borderColor:'#f87171',backgroundColor:'rgba(248,113,113,0.15)',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'yVitals'}
      ]},
      options:{
        scales:{
          x:{ticks:{maxTicksLimit:7}},
          ySleep:{position:'left',title:{display:true,text:'Sono (h)'}},
          yVitals:{position:'right',grid:{drawOnChartArea:false},title:{display:true,text:'HRV / FC'}}
        }
      }
    };

    makeChart('dist-chart', chartConfigs['dist-chart']);
    makeChart('pmc-chart', chartConfigs['pmc-chart']);
    makeChart('well-chart', chartConfigs['well-chart']);
      chartConfigs['trend-load-chart'] = {type:'line',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'CTL',data:[0.0,0.0,3.5,7.9,12.3,14.1,18.2,22.4,26.2,26.8,26.7,28.9],borderColor:'#60a5fa',tension:.3,borderWidth:2,pointRadius:2},{label:'ATL',data:[0.0,0.4,16.0,28.8,35.1,31.3,41.3,47.7,51.0,40.0,34.2,42.2],borderColor:'#f59e0b',tension:.3,borderWidth:2,pointRadius:2},{label:'TSB',data:[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],borderColor:'#22c55e',tension:.3,borderWidth:2,pointRadius:2}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{}}}};
  makeChart('trend-load-chart', chartConfigs['trend-load-chart']);
  chartConfigs['trend-tss-chart'] = {data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{type:'bar',label:'TSS',data:[0,27.0,132.0,238.0,217.0,162.0,296.0,317.0,330.0,211.0,194.0,292.0],backgroundColor:'rgba(94,163,255,0.38)'},{type:'line',label:'Horas',data:[0.0,2.0,3.7,4.4,5.2,7.2,6.1,6.2,6.8,4.5,5.3,7.2],borderColor:'#f59e0b',tension:.3,borderWidth:2,pointRadius:2}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{}}}};
  makeChart('trend-tss-chart', chartConfigs['trend-tss-chart']);
  chartConfigs['trend-well-chart'] = {type:'line',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Sono (h)',data:[null,null,null,6.6,6.9,4.1,6.5,6.8,7.1,7.2,6.3,7.5],borderColor:'#22c55e',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'ySleep'},{label:'HRV',data:[null,null,null,54.0,54.3,55.0,48.0,54.3,60.0,64.4,52.0,51.0],borderColor:'#60a5fa',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'yVitals'},{label:'FC Repouso',data:[null,50.0,50.0,45.3,47.5,46.5,46.5,44.5,43.7,45.0,44.8,44.5],borderColor:'#ef4444',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'yVitals'},{label:'Peso',data:[null,null,null,null,null,null,60.2,58.7,null,59.8,58.4,59.0],borderColor:'#a855f7',tension:.3,borderWidth:2,pointRadius:2,yAxisID:'yWeight'}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},ySleep:{position:'left',title:{display:true,text:'Sono (h)'},ticks:{color:'#94a3b8'}},yVitals:{position:'right',grid:{drawOnChartArea:false},title:{display:true,text:'HRV / FC'}},yWeight:{position:'right',offset:true,grid:{drawOnChartArea:false},title:{display:true,text:'Peso'}}}}};
  makeChart('trend-well-chart', chartConfigs['trend-well-chart']);
  chartConfigs['trend-modality-chart'] = {type:'bar',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Bike %',data:[0,26.1,18.1,34.1,35.0,70.4,31.2,54.0,42.6,58.1,37.5,29.6],backgroundColor:'rgba(245,158,11,0.35)'},{label:'Run %',data:[0,29.0,44.2,40.4,35.2,23.7,33.4,35.3,31.5,27.5,41.0,31.4],backgroundColor:'rgba(34,197,94,0.35)'},{label:'Swim %',data:[0,0.0,15.7,0.0,0.0,5.9,17.0,2.0,5.5,0.0,0.0,15.4],backgroundColor:'rgba(56,189,248,0.35)'},{label:'Forca %',data:[0,44.9,22.0,25.5,29.9,0.0,18.4,8.7,20.4,14.4,21.5,23.6],backgroundColor:'rgba(168,85,247,0.35)'}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{beginAtZero:true,max:100}}}};
  makeChart('trend-modality-chart', chartConfigs['trend-modality-chart']);
  chartConfigs['trend-bike-chart'] = {type:'line',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Bike IF',data:[null,0.16999999999999998,0.4375,0.3775,0.355,0.3,0.40249999999999997,0.375,0.4266666666666667,0.34750000000000003,null,0.3566666666666667],borderColor:'#f59e0b',tension:.3,borderWidth:2,pointRadius:2},{label:'Bike VI',data:[null,1.5165,1.0135,1.0310000000000001,1.0375,1.034,1.0474999999999999,1.0303333333333333,1.0073333333333332,1.0074999999999998,null,1.0],borderColor:'#94a3b8',tension:.3,borderWidth:2,pointRadius:2},{label:'Bike Decoupling %',data:[null,4.335,-4.880000000000001,-2.545,11.555,8.44,-8.15,5.676666666666667,1.9966666666666664,-0.03499999999999999,null,4.61],borderColor:'#ef4444',tension:.3,borderWidth:2,pointRadius:2}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{}}}};
  makeChart('trend-bike-chart', chartConfigs['trend-bike-chart']);
  chartConfigs['trend-run-chart'] = {type:'line',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Cadencia Run',data:[null,75.85382,81.53398966666667,82.70459333333334,81.97182333333332,84.004375,81.05442125,80.98349166666667,82.84964633333334,80.95933333333333,84.7257835,82.77357833333333],borderColor:'#22c55e',tension:.3,borderWidth:2,pointRadius:2},{label:'Decoupling Run %',data:[null,10.39,5.84,3.15,-2.6133333333333333,2.1350000000000002,7.880000000000001,5.5,5.63,6.620000000000001,5.792499999999999,-0.8799999999999999],borderColor:'#ef4444',tension:.3,borderWidth:2,pointRadius:2}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{}}}};
  makeChart('trend-run-chart', chartConfigs['trend-run-chart']);
  chartConfigs['trend-zone-bike'] = {type:'bar',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Z1',data:[null,100.0,95.3,99.3,99.9,100.0,99.8,100.0,99.2,100.0,null,100.0],backgroundColor:'rgba(34,197,94,0.35)'},{label:'Z2',data:[null,0.0,3.9,0.7,0.1,0.0,0.2,0.0,0.7,0.0,null,0.0],backgroundColor:'rgba(245,158,11,0.35)'},{label:'Z3',data:[null,0.0,0.7,0.0,0.0,0.0,0.0,0.0,0.1,0.0,null,0.0],backgroundColor:'rgba(239,68,68,0.35)'}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{beginAtZero:true,max:100}}}};
  makeChart('trend-zone-bike', chartConfigs['trend-zone-bike']);
  chartConfigs['trend-zone-run'] = {type:'bar',data:{labels:["23/11","30/11","07/12","14/12","21/12","28/12","04/01","11/01","18/01","25/01","01/02","08/02"],datasets:[{label:'Z1',data:[null,51.1,23.4,20.6,24.2,22.8,31.4,31.1,50.6,40.2,26.7,38.9],backgroundColor:'rgba(34,197,94,0.35)'},{label:'Z2',data:[null,42.6,71.4,77.5,73.7,77.2,65.5,65.7,48.5,57.5,73.3,54.3],backgroundColor:'rgba(245,158,11,0.35)'},{label:'Z3',data:[null,6.3,5.2,2.0,2.0,0.0,3.1,3.2,0.8,2.3,0.0,6.8],backgroundColor:'rgba(239,68,68,0.35)'}]},options:{scales:{x:{ticks:{maxTicksLimit:6}},y:{beginAtZero:true,max:100}}}};
  makeChart('trend-zone-run', chartConfigs['trend-zone-run']);
  })();
</script>
</body>
</html>
